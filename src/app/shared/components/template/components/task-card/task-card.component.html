<div [class]="'card-wrapper ' + style" (click)="triggerActions('click')">
  <span *ngIf="highlighted && !completed" class="badge highlighted-badge">
    {{ highlightedText }}
  </span>
  <span *ngIf="completed" class="badge completed-badge">
    <img src="{{ completedIcon | plhAsset }}" />
  </span>
  <div class="content-wrapper">
    <ng-container *ngIf="!title">
      <plh-template-component
        *ngFor="let childRow of _row.rows | filterDisplayComponent; trackBy: trackByRow"
        [row]="childRow"
        [parent]="parent"
        [attr.data-rowname]="_row.name"
      >
      </plh-template-component>
    </ng-container>
    <ng-container *ngIf="title">
      <div class="text-wrapper">
        <div *ngIf="title" class="title-wrapper">
          <h1>
            {{ title }}
          </h1>
        </div>
        <div *ngIf="subtitle" class="subtitle-wrapper">
          <p class="normal">
            {{ subtitle }}
          </p>
        </div>
        <!-- If a taskGroupId is provided, show the progress bar for the relevant task group -->
        <div *ngIf="taskGroupId && !taskId">
          <plh-task-progress-bar
            [taskGroupId]="taskGroupId"
            [highlighted]="highlighted"
            [(completed)]="completed"
          ></plh-task-progress-bar>
        </div>
      </div>
      <div *ngIf="image" class="image-wrapper">
        <img [src]="image | plhAsset" />
      </div>
    </ng-container>
  </div>
</div>
